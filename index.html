<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Memory Encryption Design Quiz</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
        <link rel="stylesheet" href="./css/main.css">
        <link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">        
    </head>
    <body onload="init();" class="vscode-body vscode-light">
        <h1 id="merkle-tree-quiz">Memory Encryption Design Quiz</h1>

        <div class="question_group" id="q1">
            <div class="question">
                <h2 id="question-1">Question 1</h2>
                <p>Suppose that we have a hypothetical machine with the following characteristics</p>
                <ul>
                    <li>Suppose that initially, blocks A and B are cached, but C and D are not. Blocks A and B are dirty and recently written with values 0111 and 0000, respectively.</li>
                    <li>The memory can hold four data blocks: A, B, C, and D. Their block addresses are 00, 01, 10, and 11, respectively.</li>
                    <li>We employ a block encryption function that produces the following 4-bit encrypted value given some 4-bit input (shown in the table below)</li>
                </ul>
                <table id="q1_table">
                    <thead>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
                <p>Suppose that initially, blocks A and B are cached, but C and D are not. Blocks A and B are dirty and recently written with values of <span id="q1_block_a"></span> and <span id="q1_block_b"></span>, respectively.</p>
                <p>a. Assuming a direct encryption scheme (i.e. electronic codebook mode) the encryption of block A is <code>___</code>. The encryption of block B is <code>___</code>.</p>
                <p>b. Assume a 4 bit global counter with an initial value of <span id="q1_counter"></span>. The encryption seed used when writting block A to memory is <code>____</code>. It's pad is <code>____</code>, and the cipher text of A that is written to memory is <code>____</code>, the global counter value after A is written is <code>____</code>.</p>
            </div>
            <div class="answer" id="q1_answer">
                <h3 id="question-1-answers">Question 1 answers</h3>
                <p>Block A: <code id="q1_block_a_ans"></code></p>
                <p>Block B: <code id="q1_block_b_ans"></code></p>                
            </div>            
        </div>


        <div class="question_group" id="q2">
            <div class="question">
                <h2 id="question-2">Question 2</h2>
                <p>Assume a counter-mode encryption using a 4-bit global counter.  The counter value is currently <span id="q2_counter"></span> and the current address of block A is <span id="q2_block_a"></span>.  Assume that a counter is incremented before used for encryption (and not the other way around).                
                <div id="q2_table_container">
                </div>   
                <p>If block A is written back to memory, the encryption seed that is used is what?  What is the pad?  What is the cipher text of Block A that is written to memory?</p>             
            </div>
            <div class="answer" id="q2_answer">
                <h3 id="question_2_answers">Question 2 answers</h3>
                <div>
                    <h4>Seed Calculation</h4>
                    <p>Seed = Address || Counter</p>
                    <p>Seed = <span id="q2_seed_address"></span> || <span id="q2_seed_counter"></span> + 1</p>
                    <p>Seed = <span id="q2_seed"></span></p>           
                </div>
                <div>
                    <h4>Pad Calculation</h4>
                    <p>Pad = E(Seed)</p>
                    <p>Pad = E(<span id="q2_pad_seed"></span>)</p>
                    <p>Pad = <span id="q2_pad"></span></p>
                </div>
                <div>
                    <h4>Cipher Text Calculation</h4>
                    <p>Cipher Text = Address XOR Pad</p>
                    <p>Cipher Text = <span id="q2_cipher_address"></span> XOR <span id="q2_cipher_pad"></span></p>
                    <p>Cipher Text = <span id="q2_cipher"></span></p>
                </div>
            </div>            
        </div>





        
        <div class="button-container">
            <button class="left-button" id="prevQuestion" onclick="prevQuestion();">Previous</button>
            <button class="center-button" onclick="showAnswer();">Show Answers</button>
            <button class="right-button" id="nextQuestion" onclick="nextQuestion();">Next</button>
        </div>


        <script src="./js/functions.js"></script>
    </body>
</html>
